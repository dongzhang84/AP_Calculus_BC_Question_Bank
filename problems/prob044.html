<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Math Question</title>
    <script src="../globalVariables.js"></script>
    <script src="../questionManager.js"></script>
    <script id="MathJax-script" async src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>
    <style>
        body {
            font-family: Arial, sans-serif;
            max-width: 800px;
            margin: 0 auto;
            padding: 20px;
        }
        .center {
            display: flex;
            justify-content: center;
            align-items: center;
        }
        .question {
            margin-bottom: 20px;
            font-size: 22px;
        }
        .options {
            display: grid;
            grid-template-columns: repeat(1, 1fr);
            gap: 10px;
            margin-bottom: 20px;
        }
        .option {
            border: 1px solid #ccc;
            padding: 10px;
            border-radius: 5px;
            cursor: pointer;
            transition: background-color 0.3s;
        }
        .option:hover {
            background-color: #f0f0f0;
        }
        .option.selected {
            background-color: #3498db;
            color: white;
        }
        .button-container {
            text-align: center;
        }
        #submitBtn {
            padding: 10px 20px;
            background-color: #2ecc71;
            color: white;
            border: none;
            border-radius: 5px;
            cursor: pointer;
            font-size: 16px;
        }
        #submitBtn:hover {
            background-color: #27ae60;
        }
    </style>
</head>
<body>
    <!-- <div class="center">
        <img src="prob041.png" width="450" height="auto">
    </div>  -->

    <div class="question" data-tag="Differential Equations">
        <p>
            The population \( P \) of rabbits on a small island grows at a rate that is jointly proportional to the size of the rabbit population and the difference between the rabbit population and the carrying capacity of the population. If the carrying capacity of the population is 2400 rabbits, which of the following differential equations best models the growth rate of the rabbit population with respect to time \( t \), where \( k \) is a constant?
        </p>
    </div>
    
    <div class="options">
        <div class="option" onclick="selectOption(this)" data-value="A">
            (A) \(\frac{dP}{dt} = 2400 - kP\)
        </div>
        <div class="option" onclick="selectOption(this)" data-value="B">
            (B) \(\frac{dP}{dt} = k(2400 - P)\)
        </div>
        <div class="option" onclick="selectOption(this)" data-value="C">
            (C) \(\frac{dP}{dt} = k\frac{1}{P}(2400 - P)\)
        </div>
        <div class="option" onclick="selectOption(this)" data-value="D">
            (D) \(\frac{dP}{dt} = kP(2400 - P)\)
        </div>
    </div>    
    
    <div class="button-container">
        <button id="submitBtn" onclick="submitAnswer()">Submit</button>
    </div>

    <script>
        // Mark this question as seen when the page loads
        markQuestionAsSeen(window.location.pathname.split('/').pop());
        
        function selectOption(element) {
            document.querySelectorAll('.option').forEach(opt => opt.classList.remove('selected'));
            element.classList.add('selected');
        }

        function submitAnswer() {
            const selectedOption = document.querySelector('.option.selected');
            if (selectedOption) {
                const selectedValue = selectedOption.getAttribute('data-value');
                const correctAnswer = 'D'; // The correct answer is option A
                const correctFormula = " \\frac{dP}{dt} = kP(2400 - P) ";
                const isCorrect = selectedValue === correctAnswer;
                
                updateScore(isCorrect);
                loadNextQuestion();
            } else {
                alert('Please select an answer before submitting.');
            }
        }

        // Display current score
        const correctAnswers = localStorage.getItem('correctAnswers') || '0';
        const totalAnswered = localStorage.getItem('totalAnswered') || '0';
        // document.getElementById('score').textContent = `Score: ${correctAnswers}/${totalAnswered}`;
    </script>
</body>
</html>